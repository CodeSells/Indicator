(function(n){function s(t){return n.extend({initializing:!0,height:!1,steps:!1,step:0,firstStepDistance:0,lastStepDistance:0,moveDuration:1e3,onStepChanged:!1},t)}function t(n){return n.closest(".Indicator").data("settings")}function h(t,f){var o=s({}),h,c;f=n.extend(o,f);f.height==!1&&n(t).height()<o.firstStepDistance+f.lastStepDistance+1&&(f.height=o.firstStepDistance+f.lastStepDistance+100);f.steps==!1?f.steps=100:f.steps<1&&(f.steps=1);n(t).addClass("Indicator");h='<div class="Nub">';h+="<\/div>";n(t).append(h);n(t).data("settings",f);f.height!=!1&&n(t).css("height",f.height);c=n(t).children(".Nub");r=c.outerHeight();u=r*Math.sqrt(2)/2;e=(2*u-r)/2;c.css("transition","top "+f.moveDuration/1e3+"s");f.initializing=undefined;n(t).data("settings",f);i(n(t),f.step)}function c(i,r){var o=n(i).height(),f=t(n(i));return o-=f.firstStepDistance+f.lastStepDistance+2*u,o<1||f.steps==1?0:r*o/(f.steps-1)+f.firstStepDistance+e}function i(i,r){var u=t(n(i));n(i).hasClass("Indicator")&&u.initializing==undefined&&(movingStep=Math.min(Math.max(0,r),u.steps),u.step=movingStep,n(i).children(".Nub").css("top",c(i,movingStep)+"px"),n(i).data("settings",u),o(u.onStepChanged,movingStep,i))}function o(t,i,r){n.isFunction(t)&&t.call(undefined,i,r)}var f="indicator",r,u,e;n.indicator||(publicMethod=n.fn[f]=n[f]=function(n){var t=n;return this.each(function(n,i){h(i,t)})},publicMethod.getSettings=function(n){return n.closest(".Indicator").data("settings")},publicMethod.next=function(r){i(r,t(n(r)).step+1)},publicMethod.previous=function(r){i(r,t(n(r)).step-1)},publicMethod.first=function(n){i(n,0)},publicMethod.last=function(r){i(r,t(n(r)).steps-1)},publicMethod.goTo=function(n,t){i(n,t)},publicMethod.stepChanged=function(n,i){o(t(i).onStepChanged,n,i)})})(jQuery,document,window);